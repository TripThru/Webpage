########## API #########

$('.developer.api').ready ->
  clearInterval(window.tripthruinterval)
  window.swaggerUi = new SwaggerUi({
    discoveryUrl: new TripThru('').getBaseUrl() + 'resources'
    apiKey: ""
    dom_id: "swagger-ui-container"
    supportHeaderParams: false
    supportedSubmitMethods: ['get', 'post', 'put', 'options']
    onComplete: (swaggerApi, swaggerUi) ->
      if (console)
        console.log("Loaded SwaggerUI")
        console.log(swaggerApi)
        console.log(swaggerUi)
        $('pre code').each((i, e) ->  hljs.highlightBlock(e) )
    onFailure: (data) ->
      if (console)
        console.log("Unable to Load SwaggerUI")
        console.log(data)
    docExpansion: "none"
  })
  window.swaggerUi.load()